<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

<script>
    (function(){
        if(''){
            if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== ''){
                alert('å¯†ç é”™è¯¯');
                history.back();
            }
        }
    })();
</script>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://codewithzichao.github.io').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="åœ¨å¦‚ä»Šçš„NLPé¢†åŸŸä¸­ï¼Œé¢„è®­ç»ƒæ¨¡å‹å æ®ç€æ„ˆå‘é‡è¦çš„åœ°ä½ã€‚è€ŒBERTçš„å‡ºä¸–ï¼Œæ›´æ˜¯å‡ ä¹æ¨ªæ‰«äº†NLPä¸­æ‰€æœ‰çš„ä»»åŠ¡è®°å½•ã€‚æœ¬ç¯‡åšå®¢å°†è¯¦è§£å‡ å¤§é¢„è®­ç»ƒæ¨¡å‹ï¼šELMoã€GPTã€BERTã€XLNetã€ERNIEã€ALBERTã€‚(ä¸‹å›¾æ˜¯å¯çˆ±çš„bertğŸ˜‹æ³¨æ„ï¼Œè¿™çœŸä¸æ˜¯èŠéº»è¡—å•Šå–‚ï¼)">
<meta property="og:type" content="article">
<meta property="og:title" content="NLP|é¢„è®­ç»ƒæ¨¡å‹ä¸“é¢˜â€”ELMo&#x2F;GPT&#x2F;BERT&#x2F;XLNet&#x2F;ERNIE&#x2F;ALBERTæ¨¡å‹åŸç†è¯¦è§£">
<meta property="og:url" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="codewithzichao">
<meta property="og:description" content="åœ¨å¦‚ä»Šçš„NLPé¢†åŸŸä¸­ï¼Œé¢„è®­ç»ƒæ¨¡å‹å æ®ç€æ„ˆå‘é‡è¦çš„åœ°ä½ã€‚è€ŒBERTçš„å‡ºä¸–ï¼Œæ›´æ˜¯å‡ ä¹æ¨ªæ‰«äº†NLPä¸­æ‰€æœ‰çš„ä»»åŠ¡è®°å½•ã€‚æœ¬ç¯‡åšå®¢å°†è¯¦è§£å‡ å¤§é¢„è®­ç»ƒæ¨¡å‹ï¼šELMoã€GPTã€BERTã€XLNetã€ERNIEã€ALBERTã€‚(ä¸‹å›¾æ˜¯å¯çˆ±çš„bertğŸ˜‹æ³¨æ„ï¼Œè¿™çœŸä¸æ˜¯èŠéº»è¡—å•Šå–‚ï¼)">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/0.bert.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/0.png">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/1.png">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/2.png">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/3.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/4.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/5.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/20.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/6.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/7%E6%96%B9%E6%B3%95%E4%B8%80.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/10.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/12.jpg">
<meta property="og:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/13.jpg">
<meta property="article:published_time" content="2020-03-02T08:56:59.000Z">
<meta property="article:modified_time" content="2020-10-20T07:01:56.901Z">
<meta property="article:author" content="zichao">
<meta property="article:tag" content="NLP">
<meta property="article:tag" content="python">
<meta property="article:tag" content="self-attention">
<meta property="article:tag" content="BERT">
<meta property="article:tag" content="ELMo">
<meta property="article:tag" content="GPT">
<meta property="article:tag" content="ALBERT">
<meta property="article:tag" content="XLNET">
<meta property="article:tag" content="ERNIE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/0.bert.jpg">

<link rel="canonical" href="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>NLP|é¢„è®­ç»ƒæ¨¡å‹ä¸“é¢˜â€”ELMo/GPT/BERT/XLNet/ERNIE/ALBERTæ¨¡å‹åŸç†è¯¦è§£ | codewithzichao</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">codewithzichao</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Confidentï¼ŒModestï¼ŒPatient</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-friends">

    <a href="/Friends/" rel="section"><i class="fa fa-fw fa-address-book"></i>Friends</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/codewithzichao" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://codewithzichao.github.io/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/photo.jpg">
      <meta itemprop="name" content="zichao">
      <meta itemprop="description" content="Just learning">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="codewithzichao">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          NLP|é¢„è®­ç»ƒæ¨¡å‹ä¸“é¢˜â€”ELMo/GPT/BERT/XLNet/ERNIE/ALBERTæ¨¡å‹åŸç†è¯¦è§£
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">

            

              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-02 16:56:59" itemprop="dateCreated datePublished" datetime="2020-03-02T16:56:59+08:00">2020-03-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-20 15:01:56" itemprop="dateModified" datetime="2020-10-20T15:01:56+08:00">2020-10-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B/" itemprop="url" rel="index">
                    <span itemprop="name">é¢„è®­ç»ƒæ¨¡å‹</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>åœ¨å¦‚ä»Šçš„NLPé¢†åŸŸä¸­ï¼Œé¢„è®­ç»ƒæ¨¡å‹å æ®ç€æ„ˆå‘é‡è¦çš„åœ°ä½ã€‚è€ŒBERTçš„å‡ºä¸–ï¼Œæ›´æ˜¯å‡ ä¹æ¨ªæ‰«äº†NLPä¸­æ‰€æœ‰çš„ä»»åŠ¡è®°å½•ã€‚æœ¬ç¯‡åšå®¢å°†è¯¦è§£å‡ å¤§é¢„è®­ç»ƒæ¨¡å‹ï¼šELMoã€GPTã€BERTã€XLNetã€ERNIEã€ALBERTã€‚(ä¸‹å›¾æ˜¯å¯çˆ±çš„bertğŸ˜‹æ³¨æ„ï¼Œè¿™çœŸä¸æ˜¯èŠéº»è¡—å•Šå–‚ï¼)</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/0.bert.jpg" alt></p>
<a id="more"></a>
<blockquote>
<p>æœ¬ç¯‡æ–‡ç« è‡´åŠ›äºè®²è§£æ¸…æ¥šå„ä¸ªé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„åŸç†ï¼Œä½†æ˜¯ç»†èŠ‚éƒ¨åˆ†ä¸ä¼šå±•å¼€è®¨è®ºï¼Œè­¬å¦‚transformeræ¶æ„çš„åŸç†ã€self-attentionçš„åŸç†ã€highway networkçš„åŸç†ç­‰ç­‰ï¼Œè¿™äº›åŸºç¡€çš„ä¸œè¥¿è¯·è‡ªè¡ŒæŸ¥æ‰¾èµ„æ–™è¿›è¡Œè¡¥å……ï½</p>
</blockquote>
<h2 id="ELMoæ¨¡å‹ä»‹ç»"><a href="#ELMoæ¨¡å‹ä»‹ç»" class="headerlink" title="ELMoæ¨¡å‹ä»‹ç»"></a>ELMoæ¨¡å‹ä»‹ç»</h2><p>ELMoæ¨¡å‹ï¼Œå…¨ç§°ï¼šEmbedding from Language Modelsã€‚è¿™ä¸ªæ¨¡å‹æ‰€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼š<strong>1.è¯å‘é‡è¦æ›´å¥½åœ°è¡¨è¾¾è¯­æ³•ä¸è¯­ä¹‰ç­‰ä¿¡æ¯ï¼›2.å•è¯åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¼šæœ‰ä¸åŒçš„æ„æ€ï¼Œè€Œä¼ ç»Ÿçš„word2vecç­‰word embeddingæ¨¡å‹ï¼Œæ¯ä¸€ä¸ªå•è¯çš„è¯å‘é‡éƒ½æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¸Šä¸‹æ–‡æ— å…³ï¼Œè¿™å¯¹äºå¤„ç†å•è¯çš„å¤šä¹‰æ€§éå¸¸åœ°ä¸å‹å¥½ã€‚</strong>æ‰€ä»¥ï¼ŒELMoæ¨¡å‹å°±æ˜¯åˆ©ç”¨æ·±åº¦çš„åŒå‘LSTMæ¨¡å‹æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<h3 id="ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„"><a href="#ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„" class="headerlink" title="ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„"></a>ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„</h3><p>ELMoæ¨¡å‹çš„å¤§ä½“ç»“æ„æ˜¯ï¼šå¤šå±‚çš„biLSTMè¯­è¨€æ¨¡å‹ã€‚ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/0.png" style="zoom: 67%;"></p>
<ul>
<li>é¦–å…ˆæ˜¯è¾“å…¥<code>Input Sentence</code>ã€‚å®ƒçš„shapeæ˜¯<code>(B,W,C)</code>ã€‚å…¶ä¸­ï¼Œ<code>B</code>è¡¨ç¤ºbatch_sizeï¼Œ<code>W</code>è¡¨ç¤ºä¸€ä¸ªå¥å­çš„tokençš„æ•°ç›®ï¼Œ <code>C</code>è¡¨ç¤ºä¸€ä¸ªtokençš„æœ€å¤§å­—ç¬¦æ•°ï¼Œåœ¨è®ºæ–‡é‡Œæ˜¯å›ºå®šçš„æ•°ç›®ï¼š50ã€‚åœ¨è¿™é‡Œï¼Œéœ€è¦æ˜ç¡®çš„æ˜¯ï¼š<strong>ELMoæ¨¡å‹æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œç¼–ç çš„ã€‚</strong></li>
<li>æ¥ç€ï¼Œè¿›å…¥ char encoder layerã€‚åœ¨ELMoæ¨¡å‹ï¼Œä¼šå¯¹æ¯ä¸€ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¹Ÿå°±æ˜¯ç»™æ¯ä¸ªå­—ç¬¦è¿›è¡Œembeddingã€‚ç„¶åï¼Œç»è¿‡ä¸€äº›ä¸€ç»´å·ç§¯æ“ä½œï¼Œä»¥åŠhighwayæ“ä½œï¼Œæœ€åçš„è¾“å‡ºç»´åº¦ä¸ºï¼š<code>(B,W,D)</code>ã€‚</li>
<li>å°†char encoder layerçš„è¾“å‡ºä½œä¸ºbiLSTM layerçš„è¾“å…¥ï¼Œå‡è®¾ biLSTM layeræœ‰Lå±‚ï¼Œæœ€ç»ˆè¾“å‡ºçš„ç»´åº¦ä¸ºï¼š<code>(L+1,B,W,2*D)</code>ã€‚åœ¨è¿™é‡Œï¼Œä¹‹æ‰€ä»¥+1ï¼Œæ˜¯å› ä¸ºæŠŠ char encoder layerçš„è¾“å‡ºä¹Ÿç®—è¿›å»äº†ã€‚</li>
<li>æœ€åï¼Œå°†<code>(L+1,B,W,2*D)</code>çš„è¾“å‡ºä½œä¸º scalar Mixerçš„è¾“å…¥ï¼Œå…¶å®å°±æ˜¯å°†è¿™L+1ä¸ªè¾“å‡º<strong>è¿›è¡ŒåŠ æƒå¹³å‡å¹¶ä¸”æ”¾ç¼©</strong>ï¼Œæœ€ç»ˆçš„è¾“å‡ºçš„ç»´åº¦æ˜¯ï¼š<code>(B,W,2*D)</code>ã€‚è¿™å°±æ˜¯æœ€ç»ˆç”Ÿæˆçš„ELMoè¯å‘é‡ã€‚</li>
</ul>
<p>ä¸‹é¢æ¥å…·ä½“ä»‹ç»ä¸€ä¸‹æ¯ä¸€å±‚çš„ç»“æ„ã€‚</p>
<h3 id="Char-Encoder-Layer"><a href="#Char-Encoder-Layer" class="headerlink" title="Char Encoder Layer"></a>Char Encoder Layer</h3><p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/1.png" style="zoom:80%;"></p>
<ul>
<li>char encoder layerçš„è¾“å…¥ç»´åº¦æ˜¯<code>(B,W,C)</code>ï¼Œç„¶åéœ€è¦è¢«reshapeä¸º<code>(B*W,C)</code>ã€‚ä¹‹åé’ˆå¯¹æ¯ä¸€ä¸ªtokençš„æ¯ä¸€ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ã€‚å­—ç¬¦è¡¨æ€»å…±æœ‰262ä¸ªï¼Œå…¶ä¸­ï¼Œ0-255æ˜¯unicodeç¼–ç ï¼Œå…¶ä½™çš„æ˜¯ï¼š<code>&lt;bos&gt;,&lt;eos&gt;,&lt;bow&gt;,&lt;eow&gt;,&lt;pow&gt;,&lt;pos&gt;</code>ã€‚å…¶ä¸­æ¯ä¸€ä¸ªå­—ç¬¦çš„embeddngçš„ç»´åº¦æ˜¯dã€‚æ‰€ä»¥ï¼Œæ•´ä¸ªè¯è¡¨çš„ç»´åº¦æ˜¯ï¼š<code>262*d</code>ã€‚ç»è¿‡char embeddingä¹‹åï¼Œè¾“å‡ºä¸ºï¼š<code>(B*W,C,d)</code>ã€‚</li>
<li>ç´§æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ç»´å·ç§¯ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>å¹¶ä¸æ˜¯åœ¨çºµå‘ä¸Šå åŠ å¾ˆå¤šå·ç§¯å±‚ï¼Œè€Œæ˜¯åœ¨æ¨ªå‘ä¸Šä½¿ç”¨è‹¥å¹²ä¸ªä¸€ç»´å·ç§¯å±‚</strong>ã€‚åœ¨ELMoä¸­ï¼Œä½¿ç”¨äº†mä¸ªä¸€ç»´å·ç§¯ã€‚ä»¥ç¬¬ä¸€ä¸ªä¸ºä¾‹ï¼šå·ç§¯æ ¸ä¸ºk1ï¼Œä¸ªæ•°ä¸ºd1ï¼Œé‚£ä¹ˆä¸€ç»´å·ç§¯åå¾—åˆ°çš„ç»´åº¦æ˜¯ï¼š<code>(B*W,C1,d1)</code>ï¼›æ¥ç€ï¼Œå†ä½¿ç”¨maxpooling(ä¹‹æ‰€ä»¥è¦ä½¿ç”¨maxpoolingï¼Œæ˜¯å› ä¸ºç»è¿‡å·ç§¯ä¹‹åï¼Œå„ä¸ªå‘é‡ç»´åº¦å¯èƒ½ä¸ä¸€è‡´ï¼Œæ— æ³•åˆå¹¶ï¼Œæ‰€ä»¥æ‰éœ€è¦è¿›è¡Œpoolingæ“ä½œ)ï¼Œä»ä¸­é€‰æ‹©å‡ºæœ€å¤§çš„å•è¯ï¼Œå…¶ç»´åº¦å˜ä¸ºï¼š<code>(B*W,d1)</code>ï¼Œæœ€åå†ç»è¿‡æ¿€æ´»å‡½æ•°ï¼Œå°±å®Œæˆäº†ä¸€ä¸ªæ“ä½œã€‚</li>
<li>åœ¨å®Œæˆmä¸ªå·ç§¯æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å°†å¾—åˆ°çš„mä¸ªå‘é‡åœ¨dç»´è¿›è¡Œconcatï¼Œå¹¶ä¸”éœ€è¦reshapeï¼Œå³å¾—åˆ°çš„ç»´åº¦ä¸ºï¼š<code>(B,W,(d1+d2+d3+...+dm))</code>ã€‚</li>
<li>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨ç»è¿‡è‹¥å¹²ä¸ªhighwayå±‚ã€‚æ‰€è°“çš„highwayå±‚çš„ä½œç”¨ä¸æ®‹å·®è¿æ¥æ˜¯ä¸€æ ·çš„ï¼Œèƒ½å¤Ÿè®©ç½‘ç»œè®­ç»ƒçš„æ•ˆç‡éšç€æ·±åº¦çš„å¢åŠ ä¸é™ä½ã€‚å…·ä½“çš„å…¬å¼è¯·å‚çœ‹highwayçš„åŸå§‹è®ºæ–‡ã€‚</li>
<li>æœ€åï¼Œéœ€è¦è¿›è¡Œä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œå°†ç»´åº¦ä»<code>(B*W,(d1+d2+d3+...+dm))</code>å˜ä¸º<code>(B,W,D)</code>ã€‚è¿™é‡Œçš„<code>D</code>æ˜¯æœ€åæˆ‘ä»¬å¾—åˆ°çš„ELMoè¯å‘é‡ç»´åº¦çš„ä¸€åŠã€‚</li>
</ul>
<h3 id="biLSTM-layers"><a href="#biLSTM-layers" class="headerlink" title="biLSTM layers"></a>biLSTM layers</h3><p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/2.png" style="zoom:80%;"></p>
<ul>
<li>biLSTM layersæ˜¯æ¥åœ¨ char encoder layerä¹‹åçš„ï¼Œå®ƒçš„è¾“å…¥ç»´åº¦æ˜¯ï¼š<code>(B,W,D)</code>ã€‚biLSTMç›¸ä¿¡å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œåœ¨è¿™é‡Œï¼Œå‡è®¾LSTMçš„ hidden stateçš„ç»´åº¦æ˜¯hï¼Œé‚£ä¹ˆLSTMçš„è¾“å‡ºæ˜¯<code>(B,W,h)</code>ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œå°†ç»´åº¦ä»<code>(B,W,h)</code>å˜æˆ<code>(B,W,D)</code>ã€‚ç”±äºæ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬concatä¹‹åï¼Œå¾—åˆ°çš„ä¸€å±‚çš„è¾“å‡ºæ˜¯ï¼š<code>(B,W,2D)</code>ã€‚</li>
<li><strong>æ³¨æ„ï¼Œåœ¨biLSTMå±‚ï¼Œæ¯ä¸€å±‚çš„LSTMçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€å±‚LSTMçš„è¾“å…¥ã€‚å‡è®¾æœ‰Lå±‚biLSTMï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬æœ€åå¾—åˆ°çš„è¾“å‡ºå‘é‡ä¸ªæ•°ä¸ºL+1ä¸ªï¼Œå› ä¸ºæœ€åˆçš„char encoder layerçš„è¾“å‡ºä¹Ÿè¦ç®—è¿›å»ã€‚</strong>æ‰€ä»¥biLSTM layersæœ€ç»ˆçš„è¾“å‡ºç»´åº¦æ˜¯ï¼š<code>(L+1,B,W,2D)</code>ã€‚</li>
</ul>
<p><strong>è¿™é‡Œéœ€è¦ç€é‡è®²ä¸€ä¸‹ELMoä¸­biLSTMçš„ä½¿ç”¨ï¼Œè¿™ä¹Ÿæ˜¯å…¶ä¸BERTæœ€å¤§çš„ä¸åŒã€‚</strong></p>
<p>åœ¨ELMoä¸­ï¼Œå…¶å®æ˜¯è®­ç»ƒäº†ä¸¤ä¸ªæ­£åå‘çš„è¯­è¨€æ¨¡å‹ã€‚å‰å‘çš„è¯­è¨€æ¨¡å‹çš„æ¦‚ç‡å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
P(t_1,t_2,...,t_N)=\prod_{k=1}^{N}P(t_k|t_1,t_2,..,t_{k-1})</script><p>åå‘çš„è¯­è¨€æ¨¡å‹çš„æ¦‚ç‡å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
P(t_1,t_2,...,t_N)=\prod_{k=1}^{N}P(t_k|t_{k+1},t_{k+2},..,t_{N})</script><p>ELMoæ¨¡å‹çš„ç›®æ ‡å‡½æ•°æ˜¯ï¼š</p>
<script type="math/tex; mode=display">
maximize \ \sum_{k=1}^{N}(logP(t_k|t_1,t_2,...,t_{k-1},\theta_x,\overrightarrow{\theta_{LSTM}},\theta_s)+logP(t_k|t_{k+1},t_{k+2},...,t_{N},\theta_x,\overleftarrow{\theta_{LSTM}},\theta_s))</script><p>å…¶ä¸­$\theta_x$è¡¨ç¤ºè¯åµŒå…¥çš„å‚æ•°ï¼›$\theta_s$è¡¨ç¤ºsoftmaxä¹‹å‰çš„å‚æ•°ï¼Œå³è¾“å‡ºå±‚çš„å‚æ•°ï¼›$\overrightarrow{\theta_{LSTM}},,\overleftarrow{\theta_{LSTM}}$è¡¨ç¤ºbiLSTMå±‚çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ<strong>ELMoæ¨¡å‹æ˜¯åˆ†åˆ«è®­ç»ƒä¸¤ä¸ªLMï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„åŒå‘è¯­è¨€æ¨¡å‹ï¼Œè¿™å°±æ˜¯ELMoæ¨¡å‹ä¸BERTæœ€å¤§çš„åŒºåˆ«ã€‚</strong></p>
<h3 id="Scalar-Mixer"><a href="#Scalar-Mixer" class="headerlink" title="Scalar Mixer"></a>Scalar Mixer</h3><p>åœ¨biLSTM layersä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥åˆ°scalar mixerï¼Œå³åšä¸€ä¸ªå˜æ¢ï¼Œå¾—åˆ°æœ€ç»ˆçš„ELMoè¯å‘é‡ã€‚æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ¯ä¸€ä¸ªä½ç½®kï¼Œæ¯ä¸€å±‚éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå…³äºè¯å‘é‡çš„è¡¨ç¤º$\overrightarrow {h_{k,j}^{LM}}$ã€‚å…¶ä¸­ï¼Œjè¡¨ç¤ºç¬¬jå±‚ã€‚ä¸€ä¸ªLå±‚çš„biLSTMï¼Œä¼šç”Ÿæˆ2L+1ä¸ªè¯æ±‡è¡¨å¾ã€‚</p>
<script type="math/tex; mode=display">
R_k=\{h_{k,j}^{LM}|j=0,...,L\},\\
h_{k,j}^{LM}=[\overrightarrow {h_{k,j}^{LM}},\overleftarrow {h_{k,j}^{LM}}]</script><p>ç¬¬kä¸ªä½ç½®çš„æœ€ç»ˆçš„è¯å‘é‡å¦‚ä¸‹å…¬å¼ï¼š</p>
<script type="math/tex; mode=display">
ELMo_k=\gamma\sum_{j=0}^{L}s_jh_{k,j}^{LM}</script><p>å…¶ä¸­ï¼Œ$s_j$è¡¨ç¤ºç»è¿‡softmaxä¹‹åçš„æ¦‚ç‡å€¼ï¼Œå¯ä»¥ç†è§£ä¸ºå„ä¸ªå±‚çš„è¾“å‡ºçš„æƒé‡ï¼›å¸¸æ•°å‚æ•°$\gamma$æ˜¯ç¼©æ”¾å‚æ•°ï¼Œç”¨æ¥å¯¹æ•´ä¸ªELMoè¯å‘é‡è¿›è¡Œç¼©æ”¾ã€‚è¿™ä¸¤ä¸ªå‚æ•°æ˜¯éœ€è¦å­¦ä¹ çš„è¶…å‚æ•°ã€‚æ­¤å¤–ï¼Œ<strong>æ¯ä¸€å±‚çš„è¾“å‡ºçš„åˆ†å¸ƒä¼šæœ‰æ¯”è¾ƒå¤§çš„å·®åˆ«ï¼Œæœ‰æ—¶å€™ä½¿ç”¨layer normalizationã€‚</strong>ç»è¿‡ scalar mixerä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°çš„æœ€ç»ˆçš„ELMoè¯å‘é‡çš„çš„ç»´åº¦æ˜¯ï¼š<code>(B,W,2*D)</code>ã€‚</p>
<p>ä¹‹åå¦‚æœä»‹å…¥NLPä¸‹æ¸¸ä»»åŠ¡ï¼Œé‚£ä¹ˆå¯ä»¥å›ºå®šELMoæ¨¡å‹ï¼Œä¸è®©å…¶å‚ä¸è®­ç»ƒï¼Œä¹Ÿå¯ä»¥è®©ELMoæ¨¡å‹å‚ä¸è®­ç»ƒï¼Œå¯¹è¯å‘é‡æ¨¡å‹è¿›è¡Œfine-tuneã€‚</p>
<p><strong>æ€»ç»“ï¼ŒELMoçš„ä¼˜åŠ¿åœ¨äºï¼š</strong></p>
<ul>
<li>å¾—åˆ°çš„è¯å‘é‡æ›´å¥½ï¼Œè¯å‘é‡ä¸å…¶ä¸Šä¸‹æ–‡å†…å®¹æœ‰å…³ï¼Œèƒ½å¤Ÿè§£å†³å•è¯çš„å¤šä¹‰æ€§é—®é¢˜ï¼›</li>
<li>ä½¿ç”¨äº†æ·±å±‚ç½‘ç»œçš„æ‰€æœ‰çš„è¾“å‡ºï¼Œæ¯”åªæ˜¯ç”¨é¡¶å±‚çš„LSTM layeræ›´å¥½ï¼›å…·ä½“æ¥è¯´ï¼Œä½å±‚çš„LSTM layerèƒ½å¤Ÿè¡¨ç¤ºå•è¯çš„è¯­æ³•ä¿¡æ¯ï¼›é«˜å±‚çš„LSTM layerèƒ½å¤Ÿè¡¨ç¤ºå•è¯çš„è¯­ä¹‰ä¿¡æ¯ï¼›</li>
<li>åŸºäºå­—ç¬¦è¿›è¡Œembeddingï¼Œè§£å†³äº†OOVé—®é¢˜ã€‚<strong>ä½†æ˜¯æ³¨æ„ï¼Œæˆ‘ä»¬æœ€åå¾—åˆ°çš„æ˜¯è¯å‘é‡ï¼</strong></li>
</ul>
<h2 id="GPTæ¨¡å‹ä»‹ç»"><a href="#GPTæ¨¡å‹ä»‹ç»" class="headerlink" title="GPTæ¨¡å‹ä»‹ç»"></a>GPTæ¨¡å‹ä»‹ç»</h2><p>GPTæ¨¡å‹ï¼Œå…¨ç§°ï¼šGenerative Pre-Trainingã€‚å®ƒçš„æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>1.æ— ç›‘ç£çš„é¢„è®­ç»ƒï¼›2.æœ‰ç›‘ç£çš„å¾®è°ƒã€‚</strong>ä¸‹é¢ä¾æ¬¡ä»‹ç»è¿™ä¸¤ä¸ªé˜¶æ®µã€‚</p>
<h3 id="pre-training"><a href="#pre-training" class="headerlink" title="pre-training"></a>pre-training</h3><p>GPTæ¨¡å‹ï¼Œé‡‡ç”¨çš„æ˜¯Transformerçš„ decoderéƒ¨åˆ†ä½œä¸ºlanguage modelï¼Œä½†æ˜¯ç¨å¾®æœ‰ç‚¹ä¸åŒï¼šå…¶å»æ‰äº†encoder-decoder attention layerã€‚å®ƒçš„ç›®æ ‡å‡½æ•°æ˜¯ï¼š</p>
<script type="math/tex; mode=display">
maximize \ L_1= \sum_{i}logP(u_i|u_{i-k},u_{i-k+1},...,u_{i-1};\theta)</script><p>è¿™å°±æ˜¯ä¸€èˆ¬çš„LMçš„ç›®æ ‡å‡½æ•°ã€‚å…¶ä¸­ï¼Œ$k$è¡¨ç¤ºçš„æ˜¯context windowã€‚(ä½¿ç”¨äº†markovå‡è®¾ï¼Ÿ) $\theta$è¡¨ç¤ºç½‘ç»œçš„å‚æ•°ï¼›æˆ‘ä»¬ä½¿ç”¨SGDæ¥è¿›è¡Œè®­ç»ƒã€‚</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/3.jpg" alt></p>
<p>ä¸Šå›¾å°±æ˜¯GPTçš„æ¨¡å‹ã€‚å·¦è¾¹å°±æ˜¯ä½¿ç”¨transformerçš„å»æ‰äº†encoder-decoder attention layerçš„decoderã€‚æ³¨æ„ï¼Œ<strong>æ—¢ç„¶ä½¿ç”¨äº†decoderéƒ¨åˆ†ï¼Œé‚£ä¹ˆç½‘ç»œåœ¨é¢„æµ‹å½“å‰è¯çš„æ—¶å€™ï¼Œå°±ä¸èƒ½çœ‹åˆ°æœªæ¥çš„ä¿¡æ¯ï¼Œå¹¶ä¸”ä¹Ÿæ— æ³•å¹¶è¡ŒåŒ–æ“ä½œã€‚</strong>å¦‚æœä½¿ç”¨å…¬å¼æ¥è¡¨ç¤ºçš„è¯ï¼Œåˆ™æœ‰ï¼š</p>
<script type="math/tex; mode=display">
h_0=UW_e+W_p \\
h_l=transformer_block(h_{l-1}),l\in[1,L]       \\
P(u)=softmax(h_LW)</script><h3 id="fine-tune"><a href="#fine-tune" class="headerlink" title="fine-tune"></a>fine-tune</h3><p>ä»¥åˆ†ç±»ä»»åŠ¡ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨LMå¾—åˆ°æœ€åä¸€æ­¥çš„è¾“å‡ºä¹‹åï¼Œæˆ‘ä»¬å†æ¥ä¸Šä¸€ä¸ªçº¿æ€§å±‚ã€‚è­¬å¦‚ç°åœ¨æœ‰ä¸€ä¸ªå¥å­ï¼Œè¡¨ç¤ºä¸ºï¼š$(x_1,x_2,â€¦,x_m)$ï¼Œå…¶æ ‡ç­¾ä¸º$y$ã€‚æˆ‘ä»¬ä½¿ç”¨LMå¾—åˆ°æœ€åä¸€ä¸ªè¾“å‡ºæ˜¯$h_l^m$ï¼Œåœ¨å°†å…¶å–‚å…¥ä¸€ä¸ªçº¿æ€§å±‚ï¼Œä»è€Œå¾—åˆ°ç»“æœï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
P(y|x_1,x_2,...,x_m)=softmax(h_l^mW_y)</script><p>ç›®æ ‡å‡½æ•°å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
maximize \ L_2=\sum_{x,y}logP(y|x_1,x_2,...,x_m)</script><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°†LMä½œä¸ºä¸€ä¸ªè¾…åŠ©çš„ç›®æ ‡å‡½æ•°ï¼Œè¿™æ ·åšçš„å¥½å¤„æœ‰ä¸¤ä¸ªï¼š1. æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼›2. åŠ é€Ÿæ”¶æ•›ã€‚å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
maximize \ L_3=L_2+\lambda L_1</script><p>æ¨¡å‹çš„ä¸€äº›ä¿®æ­£ç»†èŠ‚ï¼š</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/4.jpg" alt></p>
<p><strong>æ€»ç»“ï¼ŒGPTæ¨¡å‹çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨äº†transformerè€Œä¸æ˜¯biLSTMï¼Œè¿™æ ·å¤§å¤§å¢å¼ºäº†æ¨¡å‹çš„æ•æ‰ä¾èµ–å…³ç³»çš„èƒ½åŠ›ï¼›</li>
<li>GPTæ˜¯æŠŠæ¨¡å‹æ¥å…¥åˆ°ä¸‹æ¸¸ä»»åŠ¡è¿›è¡Œè®­ç»ƒï¼Œå¯ä»¥åŠ ä¸ŠåŸæ¥çš„LMä½œä¸ºè¾…åŠ©ç›®æ ‡å‡½æ•°ã€‚ä¸ä¾§é‡ç”Ÿæˆofflineçš„è¯å‘é‡ã€‚</li>
</ul>
<h2 id="BERTæ¨¡å‹ä»‹ç»"><a href="#BERTæ¨¡å‹ä»‹ç»" class="headerlink" title="BERTæ¨¡å‹ä»‹ç»"></a>BERTæ¨¡å‹ä»‹ç»</h2><p>ç»ˆäºå†™åˆ°BERTå•¦ï¼Œå“ˆå“ˆå“ˆã€‚BERTå¯ä»¥è¯´æ˜¯å¸¦ç«äº†é¢„è®­ç»ƒæ¨¡å‹ï¼ŒBERTç³»ç°åœ¨å¤§æœ‰ç»Ÿä¸€NLPä¹‹åŠ¿å•Šã€‚åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥è¿›å…¥æ­£é¢˜ï¼ğŸ¤©</p>
<p>BERTæ¨¡å‹ï¼Œå…¨ç§°å«åšï¼šBidirectional Encoder Representations from Transformersã€‚ä»åå­—çœ‹å°±å¾ˆç›´è§‚ï¼ŒBERTæ˜¯åŒå‘transformerçš„encoderéƒ¨åˆ†ã€‚å®ƒæ‰€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šä¸ç®¡ELMoè¿˜æ˜¯GPTï¼Œè¯­è¨€æ¨¡å‹éƒ½æ˜¯å•å‘çš„ï¼Œè€ŒBERTçš„ä½œè€…å‘ç°ï¼Œå•å‘è¯­è¨€æ¨¡å‹é™åˆ¶äº†fine-tuningçš„è¡¨è¾¾èƒ½åŠ›ã€‚æ‰€ä»¥ï¼Œ<strong>BERTæ‰€é‡‡å–çš„æ–¹å¼æ˜¯ï¼šä½¿ç”¨åŒå‘çš„Transformerçš„encoderéƒ¨åˆ†è¿›è¡Œé¢„è®­ç»ƒï¼Œå¹¶é‡‡ç”¨MLMä¸NSPä¸¤ç§ä»»åŠ¡å¯¹BERTè¿›è¡Œpre-trainingï¼Œä¹‹ååœ¨å¯¹æ¥ä¸‹æ¸¸ä»»åŠ¡çš„æ—¶å€™ï¼Œfine-tuningã€‚</strong></p>
<h3 id="è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ"></a>è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>BERTçš„è¾“å…¥ï¼Œå¯ä»¥æ˜¯å•ä¸ªå¥å­ï¼Œä¹Ÿå¯ä»¥æ˜¯å¥å­å¯¹ã€‚<strong>ä½†æ˜¯åœ¨é¢„è®­ç»ƒçš„æ—¶å€™ï¼Œå®é™…ä¸Šéƒ½æ˜¯è¾“å…¥çš„å¥å­å¯¹ã€‚</strong>åœ¨BERTä¸­ï¼Œä½¿ç”¨çš„æ˜¯BPE vocabularyï¼Œsizeä¸º30000ï¼Œæœ€é•¿çš„è¾“å…¥é•¿åº¦ä¸º512ã€‚ä¹‹æ‰€ä»¥æ˜¯512ï¼Œæ˜¯ä¸ºäº†å‡å°‘paddingçš„è®¡ç®—æµªè´¹ã€‚è¿™ä¸ªåœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°ã€‚</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/5.jpg" alt></p>
<p>è¿™æ˜¯BERTçš„è¾“å…¥ï¼Œæœ‰ä¸‰éƒ¨åˆ†ï¼š<strong>token embedding</strong>ï¼Œå°±æ˜¯æ¯ä¸€ä¸ªtokençš„embeddingï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ word2vecçš„ç»“æœï¼Œä¹Ÿå¯ä»¥éšæœºåˆå§‹åŒ–ï¼›<strong>segment embedding</strong>ï¼Œå°±æ˜¯å°±æ¥åŒºåˆ«ä¸¤ä¸ªå¥å­ï¼›<strong>position embedding</strong>ï¼Œå°±æ˜¯ç”¨æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªtokençš„ä½ç½®ä¿¡æ¯ï¼Œå’Œtransformerä¸€æ ·ã€‚<strong>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¥å­çš„ç¬¬ä¸€ä¸ªtokenä¸€å®šæ˜¯CLSï¼Œè¿™æ˜¯ä¸ºäº†ç»™åé¢åšåˆ†ç±»å‡†å¤‡çš„ï¼Œå®é™…ä¸Šæ˜¯NSPä»»åŠ¡æ¥è®­ç»ƒCLS tokençš„ã€‚</strong></p>
<p>BERTä¸­ç»™çš„ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">This text is included to make sure Unicode is handled properly: åŠ›åŠ å‹åŒ—åŒºá´µá´ºáµ€áµƒà¦›à¦œà¦Ÿà¦¡à¦£à¦¤</span><br><span class="line">Text should be one-sentence-per-line, with empty lines between documents.</span><br><span class="line">This sample text is public domain and was randomly selected from Project Guttenberg.</span><br><span class="line"></span><br><span class="line">The rain had only ceased with the gray streaks of morning at Blazing Star, and the settlement awoke to a moral sense of cleanliness, and the finding of forgotten knives, tin cups, and smaller camp utensils, where the heavy showers had washed away the debris and dust heaps before the cabin doors.</span><br><span class="line">Indeed, it was recorded in Blazing Star that a fortunate early riser had once picked up on the highway a solid chunk of gold quartz which the rain had freed from its incumbering soil, and washed into immediate and glittering popularity.</span><br><span class="line">Possibly this may have been the reason why early risers in that locality, during the rainy season, adopted a thoughtful habit of body, and seldom lifted their eyes to the rifted or india-ink washed skies above them.</span><br><span class="line">&quot;Cass&quot; Beard had risen early that morning, but not with a view to discovery.</span><br><span class="line">A leak in his cabin roof,--quite consistent with his careless, improvident habits,--had roused him at 4 A. M., with a flooded &quot;bunk&quot; and wet blankets.</span><br><span class="line">The chips from his wood pile refused to kindle a fire to dry his bed-clothes, and he had recourse to a more provident neighbor&#39;s to supply the deficiency.</span><br><span class="line">This was nearly opposite.</span><br><span class="line">Mr. Cassius crossed the highway, and stopped suddenly.</span><br><span class="line">Something glittered in the nearest red pool before him.</span><br><span class="line">Gold, surely!</span><br><span class="line">But, wonderful to relate, not an irregular, shapeless fragment of crude ore, fresh from Nature&#39;s crucible, but a bit of jeweler&#39;s handicraft in the form of a plain gold ring.</span><br><span class="line">Looking at it more attentively, he saw that it bore the inscription, &quot;May to Cass.&quot;</span><br><span class="line">Like most of his fellow gold-seekers, Cass was superstitious.</span><br><span class="line"></span><br><span class="line">The fountain of classic wisdom, Hypatia herself.</span><br><span class="line">As the ancient sage--the name is unimportant to a monk--pumped water nightly that he might study by day, so I, the guardian of cloaks and parasols, at the sacred doors of her lecture-room, imbibe celestial knowledge.</span><br><span class="line">From my youth I felt in me a soul above the matter-entangled herd.</span><br><span class="line">She revealed to me the glorious fact, that I am a spark of Divinity itself.</span><br><span class="line">A fallen star, I am, sir!&#39; continued he, pensively, stroking his lean stomach--&#39;a fallen star!--fallen, if the dignity of philosophy will allow of the simile, among the hogs of the lower world--indeed, even into the hog-bucket itself. Well, after all, I will show you the way to the Archbishop&#39;s.</span><br><span class="line">There is a philosophic pleasure in opening one&#39;s treasures to the modest young.</span><br><span class="line">Perhaps you will assist me by carrying this basket of fruit?&#39; And the little man jumped up, put his basket on Philammon&#39;s head, and trotted off up a neighbouring street.</span><br><span class="line">Philammon followed, half contemptuous, half wondering at what this philosophy might be, which could feed the self-conceit of anything so abject as his ragged little apish guide;</span><br><span class="line">but the novel roar and whirl of the street, the perpetual stream of busy faces, the line of curricles, palanquins, laden asses, camels, elephants, which met and passed him, and squeezed him up steps and into doorways, as they threaded their way through the great Moon-gate into the ample street beyond, drove everything from his mind but wondering curiosity, and a vague, helpless dread of that great living wilderness, more terrible than any dead wilderness of sand which he had left behind.</span><br><span class="line">Already he longed for the repose, the silence of the Laura--for faces which knew him and smiled upon him; but it was too late to turn back now.</span><br><span class="line">His guide held on for more than a mile up the great main street, crossed in the centre of the city, at right angles, by one equally magnificent, at each end of which, miles away, appeared, dim and distant over the heads of the living stream of passengers, the yellow sand-hills of the desert;</span><br><span class="line">while at the end of the vista in front of them gleamed the blue harbour, through a network of countless masts.</span><br><span class="line">At last they reached the quay at the opposite end of the street;</span><br><span class="line">and there burst on Philammon&#39;s astonished eyes a vast semicircle of blue sea, ringed with palaces and towers.</span><br><span class="line">He stopped involuntarily; and his little guide stopped also, and looked askance at the young monk, to watch the effect which that grand panorama should produce on him.</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯BERTç»™çš„ä¾‹å­çš„è¾“å…¥ã€‚BERTå¯¹ä¸è¾“å…¥çš„æ–‡æœ¬çš„è¦æ±‚æ˜¯ï¼š<strong>1. ä¸€ä¸ªå¥å­ä¸€è¡Œï¼›2. ä¸åŒæ–‡ç« ä¹‹é—´ç©ºä¸€è¡Œï¼Œé˜²æ­¢è·¨æ–‡ç« è¯»å–ã€‚</strong>é‚£ä¹ˆï¼Œå¤„ç†åŸå§‹æ–‡æœ¬ä¹‹åï¼Œå¾—åˆ°çš„è¾“å‡ºæœ‰ï¼š</p>
<ul>
<li>tokensï¼šåŒ…æ‹¬äº†æ™®é€šçš„tokenï¼Œä»¥åŠCLSã€SEPã€MASKã€‚</li>
<li>segment_idï¼š0è¡¨ç¤ºæ˜¯ç¬¬ä¸€å¥è¯ï¼Œ1è¡¨ç¤ºç¬¬äºŒå¥è¯</li>
<li>is_random_nextï¼šæ˜¯å¦ä¸ºä¸‹ä¸€å¥ï¼ŒNSPäººç‰©çš„label</li>
<li>masked_lm_positionsï¼šè¢«MASKçš„tokençš„ä½ç½®</li>
<li>masked_lm_labelsï¼šè¢«MASKçš„tokençš„åŸæœ¬çš„å€¼</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tokens: [CLS] for more than a [MASK] up [MASK] great main street , [MASK] [MASK] [MASK] centre of the city , at right angles , [MASK] one equally magnificent , at each end ##ãƒŸ which , miles away , appeared , dim and distant over the heads of the living stream of passengers , the yellow [MASK] - hills of [MASK] [MASK] ; while at the end of the vista in front [MASK] them gleamed the blue harbour , through a network [SEP] possibly this may have been the reason why early rise ##rs in [MASK] locality , during the rainy season , adopted [MASK] [MASK] [MASK] of body , and seldom lifted [MASK] eyes [MASK] the rift [MASK] or india - ink washed skies above them . [SEP]</span><br><span class="line">segment_ids: 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span><br><span class="line">is_random_next: True</span><br><span class="line">masked_lm_positions: 5 7 12 13 14 24 32 55 59 60 71 94 103 104 105 109 112 114 117</span><br><span class="line">masked_lm_labels: mile the crossed in the by of sand the desert of that a thoughtful habit and their to ##ed</span><br></pre></td></tr></table></figure>
<h3 id="pre-training-1"><a href="#pre-training-1" class="headerlink" title="pre-training"></a>pre-training</h3><p><strong>Masked Language Model</strong></p>
<p>æ ‡å‡†çš„è¯­è¨€æ¨¡å‹ï¼Œæ˜¯å•å‘çš„ï¼Œåªèƒ½æ ¹æ®ä¹‹å‰çš„æ‰€æœ‰è¯æ¥é¢„æµ‹å½“å‰è¯ã€‚åœ¨BERTä¸­ï¼Œä½¿ç”¨çš„æ˜¯åŒå‘çš„transformerçš„encoderï¼Œè¿™æ ·ä¸å°±è®©å•è¯èƒ½å¤Ÿçœ‹åˆ°æœªæ¥çš„å†…å®¹äº†å—ï¼ŸBERTçš„å¤„ç†æ–¹å¼å°±æ˜¯ä½¿ç”¨MLMã€‚MLMçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>éšæœºmaskæ‰å¥å­çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œç„¶åä½¿ç”¨ä¸Šä¸‹æ–‡æ¥é¢„æµ‹è¢«maskçš„è¯ã€‚</strong>åœ¨è®ºæ–‡ä¸­ï¼Œå…·ä½“çš„æ˜¯maskæ‰å¥å­çš„15%çš„tokenã€‚ä½†æ˜¯è¿™æ ·åšå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šåœ¨fine-tuneä¸­ï¼Œæ¨¡å‹å¯èƒ½ä¼šä»æ¥æ²¡è§è¿‡maskæ‰çš„è¯ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ä¸fine-tuneçš„è¾“å…¥åˆ†å¸ƒä¸ä¸€æ ·ï¼Œä¸ºäº†å‡å°è¿™ä¸ªé—®é¢˜ã€‚è®ºæ–‡ä¸­æå‡ºï¼Œåœ¨æ¯æ¬¡é€‰å®šä¸€ä¸ªå•è¯è¿›è¡Œmaskçš„æ—¶å€™ï¼š</p>
<ul>
<li>æœ‰80%çš„æ¦‚ç‡ï¼Œä½¿ç”¨MASKæ›¿æ¢ï¼›</li>
<li>æœ‰10%çš„æ¦‚ç‡ï¼Œéšæœºé€‰å®šä¸€ä¸ªtokenè¿›è¡Œæ›¿æ¢ï¼›(åŠ å…¥å™ªå£°ï¼Œä½¿å¾—æ¨¡å‹æ›´åŠ å…·æœ‰é²æ£’æ€§)</li>
<li>æœ‰10%çš„æ¦‚ç‡ï¼Œä¿æŒåŸæ ·ã€‚(ä¸ºäº†èƒ½å¤Ÿé è¿‘fine-tuneçš„è¾“å…¥åˆ†å¸ƒ)</li>
</ul>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¨¡å‹æ¯æ¬¡åªé¢„æµ‹15%çš„tokenï¼Œæ‰€ä»¥æ”¶æ•›çš„é€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œè¿™ä¹Ÿæ˜¯BERTçš„ç¼ºé™·ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯åæ¥XLNetæå‡ºçš„åŸå› ä¹‹ä¸€ã€‚</p>
<p><strong>Next Sentence Prediction</strong></p>
<p>ä¹‹æ‰€ä»¥è®¾è®¡è¿™ä¸ªä»»åŠ¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³éœ€è¦ç¡®å®šå¥å­å¯¹ä¹‹é—´çš„å…³ç³»çš„ä»»åŠ¡è€Œè®¾è®¡çš„ï¼Œè­¬å¦‚QAã€æ–‡æœ¬è•´å«ã€NLIç­‰ç­‰ã€‚å› ä¸ºä½œè€…è®¤ä¸ºLMé‡Œé¢å­¦ä¸åˆ°è¿™æ ·çš„çŸ¥è¯†ã€‚è¿™ä¸ªä»»åŠ¡è¦åšçš„æ˜¯ï¼šé¢„æµ‹åé¢ä¸€ä¸ªå¥å­æ˜¯ä¸æ˜¯å‰é¢ä¸€ä¸ªå¥å­çš„ä¸‹ä¸€å¥ã€‚å…·ä½“çš„åšæ³•æ˜¯ï¼š<strong>ä»¥50%çš„æ¦‚ç‡é€‰æ‹©ä¸€ä¸ªå¥å­æ˜¯å‰é¢ä¸€ä¸ªå¥å­çš„ä¸‹ä¸€å¥ï¼Œlabelæ˜¯ï¼šisNextï¼›ä»¥50%çš„æ¦‚ç‡é€‰æ‹©ä¸æ˜¯å‰é¢ä¸€ä¸ªå¥å­çš„ä¸‹ä¸€å¥çš„å¥å­ï¼Œlabelæ˜¯ï¼šNotNextã€‚</strong>(ç„¶è€Œï¼Œå®éªŒè¯æ˜ï¼ŒNSPä»»åŠ¡å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ‰€ä»¥ï¼Œåæ¥ALBERTæ”¹è¿›äº†NSPä»»åŠ¡ï¼Œäº§ç”Ÿäº†å¾ˆå¥½çš„æ•ˆæœã€‚)</p>
<h3 id="fine-tuning"><a href="#fine-tuning" class="headerlink" title="fine-tuning"></a>fine-tuning</h3><p>fine-tuningä¸GPTæ²¡ä»€ä¹ˆå¤§çš„ä¸ç—›ï¼Œéƒ½æ˜¯æ ¹æ®ä¸‹æ¸¸ä»»åŠ¡æ›´æ”¹å¾ˆå°‘çš„é¡¶å±‚å‚æ•°ã€‚å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼ŒåªåŠ äº†ä¸€å±‚åˆ†ç±»å±‚ã€‚</p>
<p><strong>æ€»ç»“ï¼ŒBERTæ¨¡å‹çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨äº†transformerçš„encoderéƒ¨åˆ†ï¼Œç‰¹å¾æŠ½å–èƒ½åŠ›æ¯”lstmè¦å¼ºï¼›</li>
<li>ä½¿ç”¨äº†MLMï¼Œæ˜¯çœŸæ­£çš„åŒå‘è¯­è¨€æ¨¡å‹ï¼Œèƒ½å¤Ÿä½¿ç”¨ä¸Šä¸‹æ–‡çš„ä¿¡æ¯æ¥é¢„æµ‹è¢«MASKæ‰çš„å•è¯ã€‚</li>
</ul>
<h2 id="XLNetæ¨¡å‹ä»‹ç»"><a href="#XLNetæ¨¡å‹ä»‹ç»" class="headerlink" title="XLNetæ¨¡å‹ä»‹ç»"></a>XLNetæ¨¡å‹ä»‹ç»</h2><p>XLNetæ¨¡å‹æ˜¯å¯¹BERTæ¨¡å‹æ”¶æ•›å¤ªæ…¢çš„æ”¹è¿›ï¼Œå½“ç„¶ï¼ŒXLNetæ¨¡å‹å¹¶ä¸åªæ˜¯è¿™äº›ã€‚åœ¨äº†è§£XLNetæ¨¡å‹ä¹‹å‰ï¼Œéœ€è¦å»äº†è§£transformer-xlè¿™ä¸ªæ¨¡å‹ï¼Œå› ä¸ºï¼ŒXLNetæ¨¡å‹å°±æ˜¯åŸºäºtransformer-xlè€Œå¾—æ¥çš„ã€‚è¿™é‡Œï¼Œæˆ‘å°±ä¸å…·ä½“è®²transformer-xlï¼Œç®€å•æä¸€ä¸‹transformer-xlç›¸è¾ƒäºtransformerçš„æ”¹è¿›çš„åœ°æ–¹å§ï¼Œæœ‰å…´è¶£çš„ç­’å­ä»¬å¯ä»¥è‡ªå·±å»çœ‹transformer-xlçš„åŸå§‹è®ºæ–‡ï½ï¼ˆ<strong>æ³¨æ„ï¼Œç›®å‰åŸºæœ¬æ²¡æœ‰å»¶ç»­XLNetçš„ç ”ç©¶ï¼Œæ‰€ä»¥è¿™å—å¤§å®¶å¦‚æœä¸æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥ä¸å»ç»†çœ‹ï¼›å½“ç„¶ä¹Ÿå¯ä»¥ä»”ç»†ç ”ç©¶ï¼Œè¯´ä¸å®šåœ¨è¿™ä¸Šé¢å°±èƒ½æå‡ºæ–°ç‚¹å­ä¹Ÿè¯´ä¸å®šå“ˆå“ˆï½</strong>ï¼‰</p>
<ul>
<li>transformer-xlæ˜¯åŸºäºvanilla transformerçš„å¾—æ¥çš„ã€‚vanilla transformerçš„è®­ç»ƒæ–¹å¼æ˜¯ï¼šå°†è®­ç»ƒæ–‡æœ¬è¿›è¡Œåˆ†æ®µï¼Œåœ¨æ¯ä¸€æ®µä¸­åˆ†åˆ«å»è®­ç»ƒLMã€‚åœ¨é¢„æµ‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨limited contextæ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ï¼Œæ²¡é¢„æµ‹å®Œä¸€ä¸ªå•è¯ï¼Œå°±è®²windowå‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ã€‚è¿™æ ·åšçš„ç¼ºç‚¹åœ¨äºï¼š<strong>1.å•è¯çš„ä¸Šä¸‹æ–‡çš„é•¿åº¦å—é™ï¼Œåœ¨åŸå§‹è®ºæ–‡ä¸­ï¼Œåªèƒ½å¤„ç†512é•¿åº¦çš„è¾“å…¥æ–‡æœ¬ï¼›2. æ¨ç†é€Ÿåº¦éå¸¸æ…¢ï¼Œæ¯æ¬¡é¢„æµ‹ä¸€ä¸ªå•è¯ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›3.æ®µä¸æ®µä¹‹é—´æ²¡æœ‰ä¸Šä¸‹æ–‡ä¾èµ–æ€§ï¼Œå½±å“æ¨¡å‹æ€§èƒ½ã€‚</strong>transformer-xlåœ¨æ­¤åŸºç¡€ä¸Šå¼•å…¥äº†ä¸¤ä¸ªä¸¤ä¸ªæœºåˆ¶ï¼š<strong>å¾ªç¯æœºåˆ¶ä¸ç›¸å¯¹ä½ç½®ç¼–ç ã€‚</strong></li>
<li><strong>å¾ªç¯æœºåˆ¶ã€‚</strong>å¾ªç¯æœºåˆ¶çš„å¼•å…¥æ˜¯ä¸ºäº†è§£å†³æ®µä¸æ®µä¹‹é—´æ²¡æœ‰ä¸Šä¸‹æ–‡ä¾èµ–æ€§ã€‚å®ƒèƒ½å¤Ÿè®©å½“å‰æ®µåœ¨è¿›è¡ŒLMå»ºæ¨¡çš„æ—¶å€™ï¼Œèƒ½å¤Ÿåˆ©ç”¨ä¹‹å‰æ®µçš„ä¿¡æ¯ï¼Œä»è€Œå®ç°é•¿æœŸä¾èµ–æ€§ã€‚åœ¨é¢„æµ‹çš„æ—¶å€™ï¼Œå°±å¯ä»¥å‰è¿›ä¸€æ•´æ®µï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨ä¹‹å‰æ®µçš„ä¿¡æ¯æ¥é¢„æµ‹å½“å‰çš„è¾“å‡ºã€‚</li>
<li><strong>ç›¸å¯¹ä½ç½®ç¼–ç ã€‚</strong>åœ¨æ™®é€šçš„transformerä¸­ï¼Œä½¿ç”¨å›ºå®šçš„position embeddingæ¥è¡¨ç¤ºtokenä¹‹é—´çš„é¡ºåºå…³ç³»ï¼Œä½†æ˜¯å¦‚æœåˆ†æ®µå¤„ç†çš„è¯ï¼Œé‚£ä¹ˆï¼Œä¸åŒåˆ†æ®µçš„åŒä¸€ä½ç½®ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªposition embeddingï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯¹çš„ã€‚æ‰€ä»¥ï¼Œåœ¨transformer-xlä¸­ï¼Œæå‡ºæ–°çš„ä½ç½®ç¼–ç æ–¹å¼ï¼š<strong>ç›¸å¯¹ä½ç½®ç¼–ç ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ ¹æ®å•è¯çš„ç›¸å¯¹ä½ç½®è¿›è¡Œç¼–ç ï¼Œè€Œä¸æ˜¯åƒtransformerçš„é‚£æ ·ï¼ŒæŒ‰ç…§ç»å¯¹ä½ç½®è¿›è¡Œç¼–ç ã€‚æœ€åï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“è®ºæ˜¯ï¼š<strong>transformer-xlçš„é•¿æœŸä¾èµ–æ€§æ¯”LSTMé«˜å‡º80%(LSTMå¹³å‡ä¸Šä¸‹æ–‡é•¿åº¦200ä¸ªå·¦å³)ï¼Œæ¯”transformeré«˜å‡º450%ï¼ï¼ˆtransformerå¹³å‡ä¸Šä¸‹æ–‡é•¿åº¦ä½äº50ï¼‰æ˜¯ä¸æ˜¯éå¸¸ç‰›é€¼ï¼</strong></li>
</ul>
<p>ä»¥ä¸Šå°±æ˜¯transformer-xlçš„å¤§è‡´å†…å®¹ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œæƒ³è¦äº†è§£å…¨éƒ¨å†…å®¹ï¼Œè¯·è¯»transformer-xlçš„åŸå§‹è®ºæ–‡ï¼Œå…¶å®åªè¦çœ‹æ‡‚äº†transformerçš„è¯ï¼Œtransformer-xlå†³å®šå°èœä¸€ç¢ŸğŸ¤©ï½æ¥ä¸‹æ¥æ­£å¼è®²XLNetæ¨¡å‹çš„å†…å®¹ï½</p>
<p><strong>è¯­è¨€æ¨¡å‹ç›®æ ‡ï¼šæ’åˆ—è¯­è¨€å»ºæ¨¡</strong></p>
<p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸ä»…å¯ä»¥ä¿ç•™ARæ¨¡å‹çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ä¹Ÿå…è®¸æ¨¡å‹æ•è·åŒå‘ä¿¡æ¯ã€‚ä»æ‰€æœ‰çš„æ’åˆ—ä¸­é‡‡æ ·ä¸€ç§ï¼Œç„¶åæ ¹æ®è¿™ä¸ªæ’åˆ—æ¥åˆ†è§£è”åˆæ¦‚ç‡æˆæ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯ï¼Œç„¶ååŠ èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦åˆ†è§£çš„é¡ºåºä¸ä¸€æ ·ï¼Œæˆ‘ä»¬è®¡ç®—çš„é¡ºåºä¹Ÿå°±ä¸ä¸€æ ·ã€‚</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/20.jpg" style="zoom:67%;"></p>
<p><strong>æ¨¡å‹æ¶æ„ï¼šåŸºäºç›®æ ‡æ„ŸçŸ¥è¡¨å¾çš„åŒæµè‡ªæ³¨æ„åŠ›</strong></p>
<p>è¿™ä¸ªè¿˜æ²¡å…·ä½“ç»†çœ‹ï¼Œå¤§è‡´æ„æ€æ˜¯ï¼šåœ¨teansformeré‡Œé¢ï¼Œä½¿ç”¨äº†token embedding+position embeddingã€‚ä½†æ˜¯å¦‚æœæˆ‘è¦é¢„æµ‹ç¬¬3ä¸ªä½ç½®çš„å•è¯çš„å†…å®¹ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä¸èƒ½æå‰è·å–åˆ°ç¬¬3ä¸ªä½ç½®çš„å†…å®¹å‘é‡(token embedding)ï¼Œåªèƒ½åªå…¶ä½ç½®å‘é‡(position embedding)ï¼Œä½†æ˜¯è¿™åœ¨è¾“å…¥çš„æ—¶å€™ï¼Œä¸¤ä¸ªå‘é‡å°±å·²ç»æ··åœ¨ä¸€èµ·äº†ã€‚æ‰€ä»¥åœ¨XLNetä¸­ï¼Œå°±è®¡ç®—äº†ä¸¤å¥—æ³¨æ„åŠ›ï¼Œä¸€ä¸ªåªåŒ…å«å®ƒçš„ä½ç½®ä¿¡æ¯ï¼Œä¸€ä¸ªè¦åŒ…å«å®ƒçš„ä½ç½®ä¿¡æ¯ä¸å†…å®¹ä¿¡æ¯ï¼Œä»¥ä¾¿ä½¿ç”¨ã€‚å…·ä½“çš„ï¼Œç­‰æˆ‘é‚£å¤©æœ‰æ—¶é—´äº†åœ¨å…·ä½“å†™å§ã€‚ã€‚ã€‚</p>
<h2 id="ERNIEæ¨¡å‹ä»‹ç»"><a href="#ERNIEæ¨¡å‹ä»‹ç»" class="headerlink" title="ERNIEæ¨¡å‹ä»‹ç»"></a>ERNIEæ¨¡å‹ä»‹ç»</h2><p>ERNIEæ˜¯THUä¸åä¸ºè¯ºäºšä¸€èµ·æå‡ºæ¥çš„é’ˆå¯¹äºä¸­æ–‡çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚(è¿™é‡Œä¸å¾—ä¸ä½©æœä¸€æ³¢éš”å£ï¼ŒNLPåšçš„æ˜¯çœŸä¸é”™ï¼Œå°åŒ—è¦è·Ÿä¸Šå•Šï¼ğŸ§)ï¼ˆå‘ç°ç™¾åº¦ä¹Ÿæå‡ºäº†ERNIEï¼Œé‡åäº†ï¼Œè€Œä¸”ä¼¼ä¹æ˜¯ç™¾åº¦å…ˆæå‡ºæ¥çš„ï¼Œå¥½å§ï¼Œé‚£å°±å†çœ‹ä¸€ç¯‡å§ğŸ˜­ï¼Œä¼¼ä¹ç™¾åº¦è¿™ç¯‡è¯»çš„æ¯”è¾ƒé¡ºç•…ï¼ï¼‰</p>
<p>ERNIEæ¨¡å‹æå‡ºçš„åŸå› ï¼š<strong>BERTç­‰æ¨¡å‹åªæ˜¯é’ˆå¯¹å­—æˆ–è€…wordç²’åº¦æ¥å­¦ä¹ ï¼Œæ²¡æœ‰å……åˆ†åˆ©ç”¨æ–‡æœ¬ä¸­çš„è¯æ³•ç»“æ„ã€è¯­æ³•ç»“æ„ä»¥åŠè¯­ä¹‰ä¿¡æ¯å»å»ºæ¨¡ã€‚</strong>è­¬å¦‚ï¼š<code>æˆ‘è¦ä¹°è‹¹æœæ‰‹æœº</code>è¿™å¥è¯ï¼Œæˆ‘ä»¬MASKä¸€ä¸ªè¯ï¼Œå˜æˆï¼š<code>æˆ‘è¦ä¹°[MASK]æœæ‰‹æœº</code>ï¼Œå¦‚æœä½¿ç”¨BERTæ¨¡å‹ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥é¢„æµ‹MASKæ‰çš„å­—æ˜¯<code>è‹¹</code>ã€‚ä½†æ˜¯BERTæ¨¡å‹æ²¡æœ‰å­¦åˆ°<code>è‹¹æœæ‰‹æœº</code>æ˜¯ä¸€ä¸ªåè¯è¿™ä¸€ä¿¡æ¯ï¼Œé‚£ä¹ˆï¼Œå¦‚æœåœ¨æœªçŸ¥çš„æ–‡æœ¬ä¸­ï¼Œå‡ºç°äº†<code>é¦™è•‰æ‰‹æœº</code>è¿™æ ·çš„è¯è¯­ï¼Œé‚£ä¹ˆï¼ŒBERTç­‰æ¨¡å‹æ˜¯æ— æ³•å¯¹å…¶è¿›è¡Œå¾ˆå¥½çš„å‘é‡è¡¨ç¤ºçš„ã€‚æ‰€ä»¥ERNIEæ¨¡å‹å°±è¯ç”Ÿäº†ã€‚ERNIEæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å°†å¤–éƒ¨çŸ¥è¯†æ•´åˆåˆ°é¢„è®­ç»ƒæ¨¡å‹ä¸­ï¼Œè®©æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°è¯æ³•ã€è¯­æ³•ä¸è¯­ä¹‰ä¿¡æ¯ã€‚</strong></p>
<p>åœ¨ERNIE1.0ä¸­ï¼Œé™¤äº†BERTä¸­çš„åŸºç¡€çš„maskingç­–ç•¥ï¼Œè¿˜æå‡ºäº†åŸºäºphraseçš„maskingç­–ç•¥ä¸åŸºäºentityçš„maskingç­–ç•¥ã€‚åœ¨ERNIEä¸­ï¼Œå°†å¤šä¸ªå­—ç»„æˆçš„phraseä¸entityå½“ä¸€ä¸ªå•å…ƒï¼Œç»Ÿä¸€è¢«maskã€‚è¿™æ ·çš„è¯ï¼Œæ¨¡å‹å°±èƒ½å¤Ÿæ½œåœ¨çš„å­¦ä¼šçŸ¥è¯†çš„ä¾èµ–ä¸è¯­ä¹‰ä¾èµ–ã€‚</p>
<p>åœ¨ERNIE2.0ä¸­ï¼Œæå‡ºä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼šè¿ç»­å­¦ä¹ ã€‚ä¹Ÿå°±æ˜¯ï¼Œæ¨¡å‹é¡ºåºè®­ç»ƒå¤šä¸ªä»»åŠ¡ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸ªä»»åŠ¡ä¸­è®°ä½å‰ä¸€ä¸ªä»»åŠ¡å¾—åˆ°çš„ç»“æœï¼Œä»è€Œå¯ä»¥ä¸æ–­çš„ç§¯ç´¯æ–°çŸ¥è¯†ã€‚å…·ä½“çš„å¯ä»¥å‚çœ‹è®ºæ–‡ï¼Œè¿™æ˜¯å¤§è‡´çš„æ€æƒ³ã€‚</p>
<h2 id="ALBERTæ¨¡å‹ä»‹ç»"><a href="#ALBERTæ¨¡å‹ä»‹ç»" class="headerlink" title="ALBERTæ¨¡å‹ä»‹ç»"></a>ALBERTæ¨¡å‹ä»‹ç»</h2><p>ALBERTæ¨¡å‹æ˜¯å¯¹BERTæ¨¡å‹çš„æ”¹è¿›ã€‚æ€ä¹ˆè¯´å‘¢ï¼Œæ„Ÿè§‰ALBERTæ˜¯ä¸€ä¸ªè°ƒå‚è°ƒå‡ºæ¥çš„æ¨¡å‹ğŸ¤ªã€‚å®ƒçš„ç›®æ ‡æ˜¯ï¼š<strong>åœ¨ä¸æŸå®³æ¨¡å‹æ€§èƒ½çš„å‰æä¸‹ï¼Œå°½é‡å‡å°‘BERTæ¨¡å‹çš„å‚æ•°ã€‚</strong>åœ¨ALBERTä¸­ï¼Œé¦–å…ˆåˆ†æäº†BERTä¸­æ¨¡å‹çš„å‚æ•°æ¥æºã€‚åœ¨BERTä¸­ï¼Œå‚æ•°ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š<strong>token embeddingçš„å‚æ•°ä¸attentionã€FFNå±‚çš„å‚æ•°</strong>ã€‚ï¼ˆä»¥ä¸‹æ‰€ç”¨åˆ°çš„å›¾ç‰‡æ¥æºäºALBERTç¬¬ä¸€ä½œè€…lanzhenzhongåšå£«çš„è®²è§£ã€‚ï¼‰</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/6.jpg" alt></p>
<h3 id="Method1-factorized-embedding-parametrization"><a href="#Method1-factorized-embedding-parametrization" class="headerlink" title="Method1:factorized embedding parametrization"></a>Method1:factorized embedding parametrization</h3><p>token embeddingå å‚æ•°çš„20%ï¼ŒattentionäºFFNå±‚çš„å‚æ•°å 80%ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±ä»è¿™ä¸¤æ–¹é¢å…¥æ‰‹ã€‚å¯¹äºtoken embeddingæ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå°†å…¶æ˜ å°„åˆ°ä¸€ä¸ªåœ°ä½iç©ºé—´ï¼Œå†æ˜ å°„ä¸ºé«˜ç»´ç©ºé—´ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆåšå‘¢ï¼Ÿæœ‰ä¸¤ç‚¹ï¼š<strong>1. token embeddingä¸€èˆ¬éƒ½æ˜¯ä¸ä¸Šä¸‹æ–‡æ— å…³çš„ï¼Œè€Œattentionå±‚çš„è¾“å‡ºä¸€åŠéƒ½æ˜¯ä¸ä¸Šä¸‹æ–‡æœ‰å…³ç³»çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¾“å‡ºå±‚åº”è¯¥åŒ…å«äº†æ›´å¤šçš„ä¿¡æ¯ï¼Œæ‰€ä»¥ï¼Œè¾“å‡ºå±‚çš„ç»´åº¦åº”è¯¥æ¯”token embeddingçš„ç»´åº¦è¦é«˜æ‰æ¯”è¾ƒåˆç†ï¼›2. å¦‚æœè®©Eä¸Hç›¸ç­‰çš„è¯ï¼Œé‚£ä¹ˆï¼Œæ•´ä¸ªè¯è¡¨çš„ç»´åº¦æ˜¯V*Hï¼Œé‚£ä¹ˆè¿™ä¸ªè¯è¡¨æ˜¯ç›¸å½“å¤§çš„ï¼Œæ¢¯åº¦æ›´æ–°çš„æ—¶å€™ï¼Œä¹Ÿä¼šæ¯”è¾ƒç¨€ç–ã€‚</strong></p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/7æ–¹æ³•ä¸€.jpg" alt></p>
<p>å½“ç„¶ï¼Œè¿™æ ·åšä¼šæŸå¤±ä¿¡æ¯ï¼Œä½†æ˜¯ç»“æœè¡¨æ˜ï¼ŒæŸå¤±çš„æ€§èƒ½å¹¶ä¸å¤šï¼Œè€Œå‡å°‘çš„å‚æ•°å´é«˜è¾¾80%ä»¥ä¸Šã€‚</p>
<h3 id="Method2-cross-layer-parameter-sharing"><a href="#Method2-cross-layer-parameter-sharing" class="headerlink" title="Method2: cross-layer parameter sharing"></a>Method2: cross-layer parameter sharing</h3><p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/10.jpg" alt></p>
<p>è·¨å±‚çš„å‚æ•°æ­å–œé‚£ä¸ªæœ‰ä¸¤ç§æ–¹æ¡ˆï¼šattentionæ¨¡å—çš„å‚æ•°å…±äº«ä»¥åŠFFNå±‚çš„å‚æ•°å…±äº«ã€‚åœ¨å®éªŒä¸­ï¼Œä½œè€…å‘ç°å…±äº«FFNçš„å‚æ•°æ˜¯å¯¼è‡´å‚æ•°ä¸‹é™çš„æœ€ä¸»è¦çš„åŸå› ã€‚</p>
<h3 id="SOPâ€”Sentence-Order-Prediction"><a href="#SOPâ€”Sentence-Order-Prediction" class="headerlink" title="SOPâ€”Sentence Order Prediction"></a>SOPâ€”Sentence Order Prediction</h3><p>åœ¨BERTä¸­ï¼Œé™¤äº†MLMä¹‹å¤–ï¼Œè¿˜ä½¿ç”¨äº†å¦ä¸€ç§ä»»åŠ¡â€”â€”NSPæ¥å­¦ä¹ å¥å­ä¹‹é—´çš„å…³ç³»ï¼Œä½†æ˜¯å®ç°è¯æ˜ï¼šNSPä»»åŠ¡å¯¹äºç»“æœçš„å½±å“å¹¶ä¸å¤§ï¼ŒåŸå› åœ¨äºï¼š<strong>NSPä»»åŠ¡å®é™…ä¸Šæ˜¯é¢„æµ‹ä¸¤å¥è¯æ˜¯é‡‡æ ·äºåŒä¸€ä¸ªæ–‡æ¡£ä¸­çš„ä¸¤ä¸ªè¿ç»­çš„å¥å­ï¼ˆæ­£æ ·æœ¬ï¼‰ï¼Œè¿˜æ˜¯é‡‡æ ·äºä¸¤ä¸ªä¸åŒçš„æ–‡æ¡£ä¸­çš„å¥å­ï¼ˆè´Ÿæ ·æœ¬ï¼‰ã€‚</strong>æ‰€ä»¥åœ¨ALBERTä¸­ï¼Œå¯¹NSPä»»åŠ¡è¿›è¡Œäº†æ”¹é€ ï¼Œå«åšSOPä»»åŠ¡ã€‚å®ƒçš„æ€æƒ³æ˜¯ï¼š<strong>æ­£æ ·æœ¬çš„æ„å»ºä¸BERTä¸€æ ·ï¼Œè´Ÿæ ·æœ¬çš„æ„å»ºåˆ™æ˜¯å°†è¯æ ·æœ¬çš„å¥å­é¡ºåºè°ƒæ¢ä¸€ä¸‹ã€‚</strong>è¿™æ ·çš„è¯ï¼Œå°±èƒ½å¤Ÿä¸“å¿ƒå­¦ä¹ åˆ°å¥å­ä¹‹é—´çš„å…³ç³»ï¼Œè€Œä¸ä¼šå»å­¦ä¹ topicã€‚</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/12.jpg" alt></p>
<p>ç»“æœè¯æ˜ï¼ŒSOPä»»åŠ¡æ¯”NSPä»»åŠ¡è¡¨ç°æ›´åŠ è‰¯å¥½ã€‚</p>
<p><img src="/2020/03/02/NLP-%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B%E4%B8%93%E9%A2%98%E2%80%94ELMo-GPT-BERT-XLNet-ALBERT%E6%A8%A1%E5%9E%8B%E8%AF%A6%E8%A7%A3/13.jpg" alt></p>
<h3 id="å»æ‰Dropout"><a href="#å»æ‰Dropout" class="headerlink" title="å»æ‰Dropout"></a>å»æ‰Dropout</h3><p>dropoutåœ¨é˜²æ­¢è¿‡æ‹Ÿåˆä¸Šæœ‰æ˜¾è‘—æ•ˆæœï¼Œä½†æ˜¯å®é™…ä¸ŠMLMå¾ˆéš¾è¿‡æ‹Ÿåˆï¼Œå»æ‰dropoutï¼Œç”±äºå¯ä»¥è…¾å‡ºå¾ˆå¤šä¸´æ—¶å˜é‡å ç”¨çš„å†…å­˜è€Œä½¿å¾—å†…å­˜ä¸Šæœ‰æ‰€æå‡ã€‚</p>
<p><strong>æ€»ç»“ï¼ŒALBERTæ¨¡å‹çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>ALBERTæ¨¡å‹é€šè¿‡ä¸¤ç§æŠ€æœ¯ï¼Œé™ä½äº†å‚æ•°çš„æ•°é‡ï¼›</li>
<li>é€šè¿‡é‡æ–°è®¾è®¡NSPä»»åŠ¡ï¼Œå¾—åˆ°äº†SOPä»»åŠ¡ï¼Œæœ€ç»ˆæ”¹å–„äº†æ¨¡å‹æ€§èƒ½ï¼›</li>
<li>å‡å°‘å‚æ•°ï¼ŒåŒæ—¶ä¹Ÿå°±æé«˜äº†æ¨¡å‹çš„capacityï¼Œå³å¯ä»¥é€šè¿‡å°†ç½‘ç»œå˜æ·±å˜å®½ï¼Œæå‡æ¨¡å‹ã€‚</li>
</ul>
<h2 id="é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“"><a href="#é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“" class="headerlink" title="é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“"></a>é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“</h2><ul>
<li><p>æ•´ä¸ªé¢„è®­ç»ƒæ¨¡å‹å¯åˆ†ä¸ºä¸¤ç±»ï¼šfeature based approachä¸fine-tuning approachã€‚å‰è€…çš„ä»£è¡¨æ€§æ¨¡å‹å°±æ˜¯ELMoï¼Œåè€…çš„ä»£è¡¨æ€§æ¨¡å‹å°±æ˜¯GPTä¸BERTã€‚</p>
</li>
<li><p>æ•´ä¸ªè¯­è¨€æ¨¡å‹æœ‰ä¸¤ç§ï¼šARä¸AEã€‚ARè¯­è¨€æ¨¡å‹æŒ‡çš„æ˜¯ä½¿ç”¨ä¸Šä¸‹æ–‡å•è¯æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯çš„æ¨¡å‹ã€‚ä¸Šä¸‹æ–‡å•è¯è¢«é™åˆ¶äº†æ–¹å‘ï¼šå‰å‘æˆ–è€…åå‘ã€‚ä»£è¡¨æ€§æ¨¡å‹æœ‰ï¼šELMoã€GPTã€GPT2ã€XLNetã€‚AEæ¨¡å‹å°±æ˜¯ä»æŸåçš„æ•°æ®ä¸­é‡å»ºåŸå§‹æ•°æ®ã€‚ä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨MASKæ ‡è®°æ¥æ›¿æ¢åŸå•è¯ï¼Œç„¶åä½¿ç”¨ä¸Šä¸‹æ–‡æ¥é¢„æµ‹MASKæ‰çš„å•è¯ã€‚ä»£è¡¨æ€§æ¨¡å‹æœ‰ï¼šBERTã€ALBERTã€‚</p>
</li>
<li>å¦å¤–ï¼Œè¯´è¯´æˆ‘çš„çœ‹æ³•å§ï¼Œfeature-basedçš„é¢„è®­ç»ƒæ¨¡å‹åŸºæœ¬ä¸Šå¤§åŠ¿å·²å»ï¼Œä»word2vecã€fasttextã€ELMoç­‰ç­‰ï¼›ç°åœ¨ï¼Œpre-train+fine-tuneä¸¤æ®µå¼çš„é¢„è®­ç»ƒæ¨¡å‹è¶Šæ¥è¶Šå—åˆ°æ¬¢è¿ï¼Œä»GPTã€BERTã€XLNetã€ALBERTã€T5ç­‰ç­‰ã€‚æœªæ¥NLPçœŸæœ‰å¯èƒ½åƒcvé‚£æ ·ï¼Œä¸€ä¸ªæ¨¡å‹ç»Ÿä¸€å¤©ä¸‹ã€‚æˆ‘ä»¬åªéœ€è¦å»æ”¹è¿›æ¨¡å‹æ‰€ä½¿ç”¨çš„ç‰¹å¾æŠ½å–å™¨å°±å¯ä»¥äº†ã€‚ä»RNNã€CNNåˆ°transformerï¼Œç‰¹å¾æŠ½å–çš„èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼Œæœªæ¥ï¼Œæˆ‘ä»¬åªè¦ä¸æ–­æ”¹è¿›transformeræˆ–è€…æå‡ºæ¯”transformeræ›´å¥½çš„æ¨¡å‹ï¼Œå°±èƒ½å¤Ÿå¤§å¤§æå‡æ¨¡å‹åœ¨å„é¡¹NLPä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚å¯¹äºæˆ‘ä»¬NLPeræ¥è¯´ï¼Œæ˜¯ä¸€ä»¶å¥½äº‹å§ï¼Œå› ä¸ºä¸éœ€è¦å†å»å­¦å¾ˆå¤šåƒå¥‡ç™¾æ€ªçš„trickï¼Œåªè¦å»æå‡åŸºç¡€æ¨¡å‹çš„èƒ½åŠ›ï¼Œå°±å¯ä»¥å¾—åˆ°å¾ˆå¤§çš„æé«˜ã€‚</li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ol>
<li>ã€ŠDeep contextualized word representationsã€‹(ELMo)</li>
<li><a href="https://blog.csdn.net/Magical_Bubble/article/details/89160032" target="_blank" rel="noopener">https://blog.csdn.net/Magical_Bubble/article/details/89160032</a> (ELMo)</li>
<li>ã€ŠImproving Language Understanding by Generative Pre-Trainingã€‹(GPT)</li>
<li><a href="https://blog.csdn.net/Magical_Bubble/article/details/89497002" target="_blank" rel="noopener">https://blog.csdn.net/Magical_Bubble/article/details/89497002</a> (GPT)</li>
<li>ã€ŠBERT: Pre-training of Deep Bidirectional Transformers for Language Understandingã€‹</li>
<li><a href="https://blog.csdn.net/Magical_Bubble/article/details/89514057" target="_blank" rel="noopener">https://blog.csdn.net/Magical_Bubble/article/details/89514057</a>. (BERT)</li>
<li>ã€ŠXLNet: Generalized Autoregressive Pretraining for Language Understandingã€‹</li>
<li><a href="https://blog.csdn.net/weixin_37947156/article/details/93035607" target="_blank" rel="noopener">https://blog.csdn.net/weixin_37947156/article/details/93035607</a> (XLNet)</li>
<li><a href="https://blog.csdn.net/u012526436/article/details/93196139" target="_blank" rel="noopener">https://blog.csdn.net/u012526436/article/details/93196139</a> (XLNet)</li>
<li>ã€ŠALBERT: A LITE BERT FOR SELFâ€”SUPERVISED LEARNING OF LANGUAGE REPRESENTATIONSã€‹</li>
<li>ã€ŠERNIE: Enhanced Representation through Knowledge Integrationã€‹</li>
<li><a href="https://blog.csdn.net/PaddlePaddle/article/details/102713947" target="_blank" rel="noopener">https://blog.csdn.net/PaddlePaddle/article/details/102713947</a> (ERNIE)</li>
</ol>

    </div>

    
    
    
        <div class="reward-container">
  <div>Would you like to buy me a cup of coffeeâ˜•ï¸ï½</div>
  <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="zichao WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="zichao Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/NLP/" rel="tag"># NLP</a>
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/self-attention/" rel="tag"># self-attention</a>
              <a href="/tags/BERT/" rel="tag"># BERT</a>
              <a href="/tags/ELMo/" rel="tag"># ELMo</a>
              <a href="/tags/GPT/" rel="tag"># GPT</a>
              <a href="/tags/ALBERT/" rel="tag"># ALBERT</a>
              <a href="/tags/XLNET/" rel="tag"># XLNET</a>
              <a href="/tags/ERNIE/" rel="tag"># ERNIE</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/02/29/NLP-word2vec-GloVe-fastText%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" rel="prev" title="NLP|word2vec/GloVe/fastTextæ¨¡å‹åŸç†è¯¦è§£ä¸å®æˆ˜">
      <i class="fa fa-chevron-left"></i> NLP|word2vec/GloVe/fastTextæ¨¡å‹åŸç†è¯¦è§£ä¸å®æˆ˜
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/04/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-LightGBM%E4%B8%8EcatBoost%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" rel="next" title="æœºå™¨å­¦ä¹ |LightGBMä¸catBoostæ¨¡å‹åŸç†è¯¦è§£">
      æœºå™¨å­¦ä¹ |LightGBMä¸catBoostæ¨¡å‹åŸç†è¯¦è§£ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ELMoæ¨¡å‹ä»‹ç»"><span class="nav-number">1.</span> <span class="nav-text">ELMoæ¨¡å‹ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„"><span class="nav-number">1.1.</span> <span class="nav-text">ELMoæ¨¡å‹çš„å¤§ä½“ç»“ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Char-Encoder-Layer"><span class="nav-number">1.2.</span> <span class="nav-text">Char Encoder Layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#biLSTM-layers"><span class="nav-number">1.3.</span> <span class="nav-text">biLSTM layers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Scalar-Mixer"><span class="nav-number">1.4.</span> <span class="nav-text">Scalar Mixer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GPTæ¨¡å‹ä»‹ç»"><span class="nav-number">2.</span> <span class="nav-text">GPTæ¨¡å‹ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pre-training"><span class="nav-number">2.1.</span> <span class="nav-text">pre-training</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fine-tune"><span class="nav-number">2.2.</span> <span class="nav-text">fine-tune</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BERTæ¨¡å‹ä»‹ç»"><span class="nav-number">3.</span> <span class="nav-text">BERTæ¨¡å‹ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="nav-number">3.1.</span> <span class="nav-text">è¾“å…¥æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pre-training-1"><span class="nav-number">3.2.</span> <span class="nav-text">pre-training</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fine-tuning"><span class="nav-number">3.3.</span> <span class="nav-text">fine-tuning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XLNetæ¨¡å‹ä»‹ç»"><span class="nav-number">4.</span> <span class="nav-text">XLNetæ¨¡å‹ä»‹ç»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ERNIEæ¨¡å‹ä»‹ç»"><span class="nav-number">5.</span> <span class="nav-text">ERNIEæ¨¡å‹ä»‹ç»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ALBERTæ¨¡å‹ä»‹ç»"><span class="nav-number">6.</span> <span class="nav-text">ALBERTæ¨¡å‹ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Method1-factorized-embedding-parametrization"><span class="nav-number">6.1.</span> <span class="nav-text">Method1:factorized embedding parametrization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Method2-cross-layer-parameter-sharing"><span class="nav-number">6.2.</span> <span class="nav-text">Method2: cross-layer parameter sharing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SOPâ€”Sentence-Order-Prediction"><span class="nav-number">6.3.</span> <span class="nav-text">SOPâ€”Sentence Order Prediction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å»æ‰Dropout"><span class="nav-number">6.4.</span> <span class="nav-text">å»æ‰Dropout</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“"><span class="nav-number">7.</span> <span class="nav-text">é¢„è®­ç»ƒæ¨¡å‹æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒæ–‡çŒ®"><span class="nav-number">8.</span> <span class="nav-text">å‚è€ƒæ–‡çŒ®</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zichao"
      src="/images/photo.jpg">
  <p class="site-author-name" itemprop="name">zichao</p>
  <div class="site-description" itemprop="description">Just learning</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">78</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">115</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codewithzichao" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;codewithzichao" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lizichao@pku.edu.cn" title="E-Mail â†’ mailto:lizichao@pku.edu.cn" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/codewithzichao" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;codewithzichao" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zichao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a>
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>









<script>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes: 0,
          toolbar: 0,
          statusbar: 0,
          pagemode: 'thumbs',
          view: 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>





  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"live2d-widget-model-hijiki"},"display":{"position":"right","width":225,"height":450},"mobile":{"show":false}});</script></body>
</html>
